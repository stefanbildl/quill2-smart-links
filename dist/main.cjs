"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=/https?:\/\/[^\s]+/;class p{constructor(e){e.on("text-change",function(d){const i=e.getSelection(!1),t=i==null?void 0:i.index;if(t===null||typeof t>"u")return;const[r]=e.getLeaf(t);if(r==null)return;const[f]=d.ops.filter(s=>s.insert).map(s=>s.insert)??[null],o=r.value();if(!o||typeof o!="string"||r.parent.domNode.localName==="a")return;const u=[`
`,"	"].find(s=>s===f),[n]=o.match(g)??[null];if(n===null)return;const c=o.indexOf(n);if(c===null)return;const l=e.getIndex(r),a=l+c,x=a+n.length;!u&&t<=x&&t>a||(e.deleteText(l+c,n.length,"api"),e.insertText(l+c,n,"link",n))})}}exports.DetectLinks=p;
